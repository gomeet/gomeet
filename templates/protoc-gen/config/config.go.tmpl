// Code generated by protoc-gen-gomeet-service. DO NOT EDIT.
// source:{{ range .ProtoFiles }} {{.Name}}{{ end }}
package config

import (
	gomeetService "{{ .GomeetPkg }}/utils/service"
)

type Config struct {
	CaCert     string
	ServerCert string
	ServerKey  string
	JwtKey     string
{{ range .DbTypes }}	{{ upperPascalCase . }}DSN string
{{ end }}{{ range .ExtraServeFlags }}	{{ upperPascalCase .Name }}ExtraFlag {{ .Type }}
{{ end }}{{ if .SubServices }}{{ range .SubServices }}{{ $ss := . }}	Svc{{ upperPascalCase .ShortName }}Address string
{{ range .DbTypes }}	Svc{{ upperPascalCase $ss.ShortName }}{{ upperPascalCase . }}DSN string
{{ end }}{{ range .ExtraServeFlags }}	Svc{{ upperPascalCase $ss.ShortName }}{{ upperPascalCase .Name }}ExtraFlag {{ .Type }}
{{ end }}{{ end }}{{ end }}}


func New(
	caCert string, serverCert string, serverKey string, jwtKey string,
	{{ range .DbTypes }}{{ lowerPascalCase . }}DSN string, {{ end -}}
	{{ range .ExtraServeFlags }}{{ lowerPascalCase .Name }}ExtraFlag {{ .Type }}, {{ end -}}
	{{ if .SubServices -}}{{ range .SubServices }}{{ $ss := . }}svc{{ upperPascalCase .ShortName }}Address string,
	{{ range .DbTypes }}svc{{ upperPascalCase $ss.ShortName }}{{ upperPascalCase . }}DSN string, {{ end -}}
	{{ range .ExtraServeFlags }}svc{{ upperPascalCase $ss.ShortName }}{{ upperPascalCase .Name }}ExtraFlag {{ .Type }}, {{ end }}{{ end }}
{{ end }}) *Config {
	return &Config{
		CaCert:     caCert,
		ServerCert: serverCert,
		ServerKey:  serverKey,
		JwtKey:     jwtKey,
{{ range .DbTypes }}		{{ upperPascalCase . }}DSN: {{ lowerPascalCase . }}DSN,
{{ end }}{{ range .ExtraServeFlags }}		{{ upperPascalCase .Name }}ExtraFlag: {{ lowerPascalCase .Name }}ExtraFlag,
{{ end }}{{ if .SubServices }}{{ range .SubServices }}{{ $ss := . }}		Svc{{ upperPascalCase .ShortName }}Address: gomeetService.FixSvcAddress(svc{{ upperPascalCase .ShortName }}Address),
{{ range .DbTypes }}		Svc{{ upperPascalCase $ss.ShortName }}{{ upperPascalCase . }}DSN: svc{{ upperPascalCase $ss.ShortName }}{{ upperPascalCase . }}DSN,
{{ end }}{{ range .ExtraServeFlags }}		Svc{{ upperPascalCase $ss.ShortName }}{{ upperPascalCase .Name }}ExtraFlag: svc{{ upperPascalCase $ss.ShortName }}{{ upperPascalCase .Name }}ExtraFlag,
{{ end }}{{ end }}{{ end }}	}
}


