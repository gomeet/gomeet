// Code generated by protoc-gen-gomeet-service. DO NOT EDIT.
// source:{{ range .ProtoFiles }} {{.Name}}{{ end }}
package service

{{ if not .SubServices }}//{{ end }}import (
{{ if not .SubServices }}//{{ end }}	// SUB-SERVICES DEFINITION : import-Client
{{ if not .SubServices }}//{{ end }}	// svc{{ "{{SubServiceNamePascalCase}}" }}Client "{{ .ProjectGroupGoPkg }}/{{ .Prefix }}{{ "{{SubServiceNameKebabCase}}" }}/client"
	{{ range .SubServices }}svc{{ upperPascalCase .ShortName }}Client "{{ .GoPkg }}/client"
	{{ end }}// END SUB-SERVICES DEFINITION : import-client
{{ if not .SubServices }}//{{ end }})

const grpcTimeout = 5

// SUB-SERVICES DEFINITION : func-init{{ if not .SubServices }}
// //init{{ "{{SubServiceNamePascalCase}}" }} Client initializes the gRPC client connecting to the {{ "{{SubServiceNamePascalCase}}" }} service.
// func (s *{{ lowerPascalCase .ShortName }}Server) init{{ "{{SubServiceNamePascalCase}}" }}Client() error {
//   if s.svc{{ "{{SubServiceNamePascalCase}}" }}GrpcClient != nil {
//     return nil
//   }
//
//   cli, err := svc{{ "{{SubServiceNamePascalCase}}" }}Client.NewGomeetClient(s.svc{{ "{{SubServiceNamePascalCase}}" }}Address,
//     grpcTimeout,
//     s.caCertificate,
//     s.certificate,
//     s.privateKey,
//   )
//
//   if err != nil {
//     return err
//   }
//
//   s.svc{{ "{{SubServiceNamePascalCase}}" }}GrpcClient = cli.GetGRPCClient()
//
//   return nil
// }{{ end }}
{{ range .SubServices }}//init{{ upperPascalCase .ShortName }}Client initializes the gRPC client connecting to the "{{ .Name }}" service.
func (s *{{ lowerPascalCase $.ShortName }}Server) init{{ upperPascalCase .ShortName }}Client() error {
	if s.svc{{ upperPascalCase .ShortName }}GrpcClient != nil {
		return nil
	}

	cli, err := svc{{ upperPascalCase .ShortName }}Client.NewGomeetClient(
		s.svc{{ upperPascalCase .ShortName }}Address,
		grpcTimeout,
		s.caCertificate,
		s.certificate,
		s.privateKey,
	)

	if err != nil {
		return err
	}

	s.svc{{ upperPascalCase .ShortName }}GrpcClient = cli.GetGRPCClient()

	return nil
}
{{ end }}
// END SUB-SERVICES DEFINITION : func-init
